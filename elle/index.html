<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Aim Trainer - For Elle</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Raleway:wght@300;400;700&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow: hidden;
            font-family: 'Raleway', sans-serif;
            position: relative;
            color: #ffebf7;
            transition: background 0.5s;
            background-attachment: fixed;
        }

        body.theme-1 {
            background: radial-gradient(circle at center, #1a0b2e 0%, #3d2352 40%, #693d7c 100%);
        }

        body.theme-2 {
            background: radial-gradient(circle at center, #0b1a2e 0%, #23527c 40%, #3d7c7c 100%);
        }

        body.theme-3 {
            background: radial-gradient(circle at center, #0b2e1a 0%, #23523d 40%, #3d7c69 100%);
        }

        .auth-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 11, 46, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .auth-container {
            background: rgba(29, 12, 47, 0.9);
            border: 2px solid #ff65a3;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 0 30px rgba(255, 101, 163, 0.6);
            max-width: 500px;
            width: 90%;
            animation: float 4s ease-in-out infinite;
        }

        .auth-title {
            font-size: 2.5rem;
            font-family: 'Dancing Script', cursive;
            color: #ff7eb3;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
        }

        .auth-question {
            font-size: 1.3rem;
            color: #ffebf7;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .auth-input {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            border: 2px solid #ff65a3;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #ffebf7;
            text-align: center;
            margin-bottom: 20px;
            font-family: 'Raleway', sans-serif;
        }

        .auth-input::placeholder {
            color: rgba(255, 235, 247, 0.6);
        }

        .auth-input:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(255, 101, 163, 0.5);
        }

        .auth-button {
            background: linear-gradient(45deg, #ff65a3, #ff7eb3);
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-family: 'Raleway', sans-serif;
            font-weight: 600;
            box-shadow: 0 0 15px rgba(255, 101, 163, 0.4);
            transition: all 0.3s ease;
        }

        .auth-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 101, 163, 0.6);
        }

        .auth-message {
            margin-top: 20px;
            font-size: 1.2rem;
            font-family: 'Dancing Script', cursive;
            min-height: 30px;
        }

        .success {
            color: #7eff7e;
            text-shadow: 0 0 10px rgba(126, 255, 126, 0.5);
        }

        .error {
            color: #ff7e7e;
            text-shadow: 0 0 10px rgba(255, 126, 126, 0.5);
        }

        .container {
            text-align: center;
            z-index: 10;
            padding: 20px;
        }

        .name-container {
            perspective: 1000px;
            margin-bottom: 50px;
        }

        .elle-text {
            font-size: 12rem;
            font-weight: 900;
            text-transform: uppercase;
            background: linear-gradient(to right, #ff9ecb, #ff7eb3, #ff65a3, #ff4d94, #ff3366);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            letter-spacing: -10px;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.5);
            animation: float 4s ease-in-out infinite;
            font-family: 'Raleway', sans-serif;
        }

        .elle-text span {
            display: inline-block;
            position: relative;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.7);
        }

        .elle-text span:nth-child(1) {
            animation: bounce 1.5s ease infinite, glow 3s ease-in-out infinite alternate;
        }

        .elle-text span:nth-child(2) {
            animation: bounce 1.5s ease 0.2s infinite, glow 3s ease-in-out 0.5s infinite alternate;
        }

        .elle-text span:nth-child(3) {
            animation: bounce 1.5s ease 0.4s infinite, glow 3s ease-in-out 1s infinite alternate;
        }

        .elle-text span:nth-child(4) {
            animation: bounce 1.5s ease 0.6s infinite, glow 3s ease-in-out 1.5s infinite alternate;
        }

        #particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle-container {
            position: absolute;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: auto;
            cursor: pointer;
        }

        .particle {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            box-shadow: 0 0 15px #ff65a3, 0 0 30px rgba(255, 101, 163, 0.5);
            transition: transform 0.3s ease;
        }

        .theme-1 .particle {
            background: linear-gradient(45deg, #ff9ecb, #ff7eb3);
        }

        .theme-2 .particle {
            background: linear-gradient(45deg, #9ecbff, #7eb3ff);
        }

        .theme-3 .particle {
            background: linear-gradient(45deg, #9effcb, #7effb3);
        }

        /* New particle types */
        .negative-particle {
            background: linear-gradient(45deg, #ff0000, #ff3333) !important;
            box-shadow: 0 0 15px #ff0000, 0 0 30px rgba(255, 0, 0, 0.5) !important;
        }

        .negative-particle::after {
            content: "‚ùå";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            color: white;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }

        .power-particle {
            background: linear-gradient(45deg, #ffd700, #ffff00) !important;
            box-shadow: 0 0 15px #ffd700, 0 0 30px rgba(255, 215, 0, 0.5) !important;
            animation: pulse 1s infinite;
        }

        .power-particle::after {
            content: "üíñ";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            text-shadow: 0 0 5px rgba(0,0,0,0.3);
        }

        .special-particle {
            background: linear-gradient(45deg, #00ffff, #00bfff) !important;
            box-shadow: 0 0 15px #00ffff, 0 0 30px rgba(0, 191, 255, 0.5) !important;
            animation: spin 3s linear infinite;
        }

        .special-particle::after {
            content: "‚≠ê";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
        }

        .message {
            position: absolute;
            font-size: 1.4rem;
            color: #ffebf7;
            text-shadow: 0 0 8px rgba(255, 105, 180, 0.9);
            font-weight: 600;
            opacity: 0;
            pointer-events: none;
            animation: floatUp 2.5s ease-out forwards;
            white-space: nowrap;
            font-family: 'Dancing Script', cursive;
            z-index: 20;
        }

        .negative-message {
            color: #ff7e7e;
            text-shadow: 0 0 8px rgba(255, 0, 0, 0.7);
        }

        .power-message {
            color: #ffff7e;
            text-shadow: 0 0 8px rgba(255, 255, 0, 0.7);
        }

        .score-container {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(29, 12, 47, 0.8);
            border: 2px solid #ff65a3;
            border-radius: 15px;
            padding: 15px 25px;
            color: #ffebf7;
            font-size: 1.5rem;
            box-shadow: 0 0 20px rgba(255, 101, 163, 0.4);
            z-index: 100;
            backdrop-filter: blur(5px);
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .score-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .score-label {
            font-weight: 300;
        }

        .score-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #ff7eb3;
            margin-left: 10px;
            min-width: 60px;
            text-align: right;
        }

        .level-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #ff7eb3;
            margin-left: 10px;
        }

        .reaction-time {
            color: #ffd700;
            margin-left: 10px;
        }

        .penalty-indicator {
            position: absolute;
            top: 0;
            right: 0;
            width: 30px;
            height: 30px;
            background: rgba(255, 0, 0, 0.7);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            transform: translate(30%, -30%);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.7);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .particle.reaction-particle {
            box-shadow: 0 0 20px #ffd700, 0 0 40px #ffd700;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .elle-text.glow {
            text-shadow: 0 0 30px #ff65a3, 0 0 60px #ff65a3;
        }

        .score-value.animate {
            animation: scorePulse 0.3s;
        }

        .penalty-animation {
            animation: penaltyFlash 0.5s;
        }

        .music-control {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(29, 12, 47, 0.8);
            border: 2px solid #ff65a3;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 20px rgba(255, 101, 163, 0.4);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.1);
            background: rgba(69, 22, 97, 0.9);
        }

        .music-icon {
            font-size: 24px;
            color: #ff7eb3;
        }

        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ff3366;
            transform: rotate(45deg);
            animation: float 6s ease-in-out infinite;
            opacity: 0.6;
        }

        .heart:before,
        .heart:after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ff3366;
            border-radius: 50%;
        }

        .heart:before {
            top: -10px;
            left: 0;
        }

        .heart:after {
            top: 0;
            left: -10px;
        }

        .burst {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(1);
            animation: burstAnimation 0.5s ease-out forwards;
            pointer-events: none;
        }

        .combo-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            font-family: 'Dancing Script', cursive;
            color: #ffd700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            opacity: 0;
            pointer-events: none;
            z-index: 500;
        }

        .combo-animation {
            animation: comboPop 1s ease-out forwards;
        }

        .timer-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(29, 12, 47, 0.8);
            border: 2px solid #ff65a3;
            border-radius: 15px;
            padding: 10px 25px;
            color: #ffebf7;
            font-size: 1.5rem;
            box-shadow: 0 0 20px rgba(255, 101, 163, 0.4);
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        .timer-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #ff7eb3;
            margin-left: 10px;
        }

        .game-over {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }

        .game-over.active {
            opacity: 1;
            pointer-events: all;
        }

        .game-over-title {
            font-size: 5rem;
            font-family: 'Dancing Script', cursive;
            color: #ff7eb3;
            text-shadow: 0 0 20px rgba(255, 126, 179, 0.8);
            margin-bottom: 30px;
        }

        .game-over-score {
            font-size: 3rem;
            color: #ffebf7;
            margin-bottom: 40px;
        }

        .restart-button {
            background: linear-gradient(45deg, #ff65a3, #ff7eb3);
            border: none;
            padding: 15px 40px;
            font-size: 1.5rem;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-family: 'Raleway', sans-serif;
            font-weight: 600;
            box-shadow: 0 0 20px rgba(255, 101, 163, 0.6);
            transition: all 0.3s ease;
        }

        .restart-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 101, 163, 0.8);
        }

        @keyframes burstAnimation {
            to {
                transform: translate(-50%, -50%) scale(3);
                opacity: 0;
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0);
            }
            50% {
                transform: translateY(-15px) rotate(3deg);
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-25px);
            }
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0.5);
            }
            70% {
                opacity: 1;
                transform: translate(-50%, -150%) scale(1.1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -200%) scale(1.3);
            }
        }

        @keyframes glow {
            0% {
                text-shadow: 0 0 10px rgba(255, 105, 180, 0.7);
            }
            100% {
                text-shadow: 0 0 25px rgba(255, 105, 180, 0.9), 0 0 50px rgba(255, 105, 180, 0.5);
            }
        }

        @keyframes scorePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        @keyframes penaltyFlash {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }

        @keyframes comboPop {
            0% { 
                opacity: 1;
                transform: translate(-50%, -50%) scale(0.5);
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.2);
            }
            100% { 
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5);
            }
        }

        .footer {
            position: fixed;
            bottom: 20px;
            color: rgba(255, 235, 247, 0.7);
            font-size: 1.2rem;
            text-align: center;
            z-index: 10;
            font-family: 'Dancing Script', cursive;
            text-shadow: 0 0 5px rgba(255, 105, 180, 0.7);
        }

        .instructions {
            position: fixed;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 235, 247, 0.9);
            font-size: 1.1rem;
            text-align: center;
            z-index: 10;
            background: rgba(29, 12, 47, 0.5);
            padding: 10px 20px;
            border-radius: 10px;
            max-width: 90%;
        }

        .instructions b {
            color: #ffd700;
        }

        .welcome-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            color: #7eff7e;
            text-shadow: 0 0 15px rgba(126, 255, 126, 0.7);
            font-family: 'Dancing Script', cursive;
            z-index: 500;
            text-align: center;
            opacity: 0;
            animation: welcomeFade 4s ease-in-out;
        }

        @keyframes welcomeFade {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            20%, 80% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
        }

        .particle-info {
            position: fixed;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 10;
        }

        .particle-info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(29, 12, 47, 0.5);
            padding: 8px 15px;
            border-radius: 20px;
        }

        .particle-info-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }

        .particle-info-text {
            font-size: 0.9rem;
            color: #ffebf7;
        }

        @media (max-width: 768px) {
            .elle-text {
                font-size: 8rem;
                letter-spacing: -7px;
            }

            .score-container {
                font-size: 1.2rem;
                padding: 10px 20px;
            }

            .score-value {
                font-size: 1.8rem;
            }

            .message {
                font-size: 1.2rem;
            }

            .auth-container {
                padding: 30px 20px;
            }

            .auth-title {
                font-size: 2rem;
            }

            .auth-question {
                font-size: 1.1rem;
            }
            
            .combo-container {
                font-size: 3rem;
            }
        }

        @media (max-width: 480px) {
            .elle-text {
                font-size: 5rem;
                letter-spacing: -5px;
            }

            .footer {
                font-size: 1rem;
            }

            .auth-container {
                padding: 25px 15px;
            }

            .auth-title {
                font-size: 1.8rem;
            }

            .auth-question {
                font-size: 1rem;
            }
            
            .combo-container {
                font-size: 2rem;
            }
            
            .particle-info {
                bottom: 100px;
                gap: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="auth-overlay" id="authOverlay">
        <div class="auth-container">
            <h1 class="auth-title">Welcome</h1>
            <p class="auth-question">What date did we start talking?<br><small>(Format: Month Day, Year or Month Day Year)</small></p>
            <input type="text" class="auth-input" id="dateInput" placeholder="Enter the date..." />
            <button class="auth-button" id="submitBtn">Enter</button>
            <div class="auth-message" id="authMessage"></div>
        </div>
    </div>

    <div class="container">
        <div class="name-container">
            <h1 class="elle-text">
                <span>E</span>
                <span>l</span>
                <span>l</span>
                <span>e</span>
            </h1>
        </div>
    </div>

    <div class="score-container">
        <div class="score-row">
            <span class="score-label">Level:</span>
            <span class="level-value">1</span>
        </div>
        <div class="score-row">
            <span class="score-label">Score:</span>
            <span class="score-value">0</span>
            <div class="penalty-indicator" id="penaltyIndicator">-1</div>
        </div>
        <div class="score-row">
            <span class="score-label">Reaction:</span>
            <span class="reaction-time">---</span>
        </div>
        <div class="score-row">
            <span class="score-label">Combo:</span>
            <span class="combo-value">0x</span>
        </div>
    </div>

    <div class="timer-container">
        Time: <span class="timer-value">60</span>s
    </div>

    <div class="music-control" id="musicControl">
        <div class="music-icon">üîä</div>
    </div>

    <div class="particle-info">
        <div class="particle-info-item">
            <div class="particle-info-color" style="background: linear-gradient(45deg, #ff9ecb, #ff7eb3);"></div>
            <span class="particle-info-text">+1 Point</span>
        </div>
        <div class="particle-info-item">
            <div class="particle-info-color" style="background: linear-gradient(45deg, #ffd700, #ffff00);"></div>
            <span class="particle-info-text">+3 Points</span>
        </div>
        <div class="particle-info-item">
            <div class="particle-info-color" style="background: linear-gradient(45deg, #ff0000, #ff3333);"></div>
            <span class="particle-info-text">-1 Point</span>
        </div>
        <div class="particle-info-item">
            <div class="particle-info-color" style="background: linear-gradient(45deg, #00ffff, #00bfff);"></div>
            <span class="particle-info-text">Special</span>
        </div>
    </div>

    <div class="instructions">
        Click on the floating dots to play ‚Ä¢ <b>Click red dots to avoid penalties</b> ‚Ä¢ Click üîä/üîá to toggle sound
    </div>

    <div id="particles-container"></div>
    
    <div class="combo-container" id="comboContainer"></div>

    <div class="footer">
        Made with ‚ô• for Elle
    </div>
    
    <div class="game-over" id="gameOver">
        <h1 class="game-over-title">Game Over</h1>
        <div class="game-over-score">Final Score: <span id="finalScore">0</span></div>
        <button class="restart-button" id="restartButton">Play Again</button>
    </div>

    <script>
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let isMuted = false;
        let isElle = false;
        let gameActive = false;
        let gameTimer;
        let timeLeft = 60;
        let combo = 0;
        let comboTimeout;
        let penaltyMessages = [
            "Ouch!",
            "Be careful!",
            "Wrong one!",
            "That hurts!",
            "Avoid red!",
            "Penalty!",
            "Watch out!"
        ];

        function createBeepSound(frequency = 800, duration = 0.1, type = 'sine') {
            if (isMuted) return;

            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            oscillator.type = type;

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function createSuccessSound() {
            if (isMuted) return;

            setTimeout(() => createBeepSound(523, 0.15), 0);
            setTimeout(() => createBeepSound(659, 0.15), 150);
            setTimeout(() => createBeepSound(784, 0.2), 300);
        }
        
        function createPenaltySound() {
            if (isMuted) return;
            
            setTimeout(() => createBeepSound(300, 0.1, 'sawtooth'), 0);
            setTimeout(() => createBeepSound(250, 0.1, 'sawtooth'), 100);
        }
        
        function createPowerUpSound() {
            if (isMuted) return;
            
            setTimeout(() => createBeepSound(1046, 0.1, 'sine'), 0);
            setTimeout(() => createBeepSound(1318, 0.1, 'sine'), 100);
            setTimeout(() => createBeepSound(1567, 0.1, 'sine'), 200);
        }
        
        function createSpecialSound() {
            if (isMuted) return;
            
            setTimeout(() => createBeepSound(880, 0.1, 'square'), 0);
            setTimeout(() => createBeepSound(1174, 0.1, 'square'), 100);
            setTimeout(() => createBeepSound(1568, 0.1, 'square'), 200);
            setTimeout(() => createBeepSound(2093, 0.1, 'square'), 300);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const authOverlay = document.getElementById('authOverlay');
            const dateInput = document.getElementById('dateInput');
            const submitBtn = document.getElementById('submitBtn');
            const authMessage = document.getElementById('authMessage');
            const particlesContainer = document.getElementById('particles-container');
            const scoreValue = document.querySelector('.score-value');
            const levelValue = document.querySelector('.level-value');
            const reactionTimeSpan = document.querySelector('.reaction-time');
            const comboValue = document.querySelector('.combo-value');
            const timerValue = document.querySelector('.timer-value');
            const penaltyIndicator = document.getElementById('penaltyIndicator');
            const comboContainer = document.getElementById('comboContainer');
            const gameOverScreen = document.getElementById('gameOver');
            const finalScore = document.getElementById('finalScore');
            const restartButton = document.getElementById('restartButton');
            let score = 0;
            let lastReactionTime = 0;
            let level = 1;

            function startGame() {
                gameActive = true;
                timeLeft = 60;
                timerValue.textContent = timeLeft;
                score = 0;
                level = 1;
                combo = 0;
                updateScore();
                updateLevel();
                updateCombo();
                startTimer();
                createParticles(30);
                createHearts(40);
            }
            
            function startTimer() {
                clearInterval(gameTimer);
                gameTimer = setInterval(() => {
                    timeLeft--;
                    timerValue.textContent = timeLeft;
                    
                    if (timeLeft <= 0) {
                        endGame();
                    }
                }, 1000);
            }
            
            function endGame() {
                gameActive = false;
                clearInterval(gameTimer);
                finalScore.textContent = score;
                gameOverScreen.classList.add('active');
            }
            
            function restartGame() {
                gameOverScreen.classList.remove('active');
                particlesContainer.innerHTML = '';
                startGame();
            }

            function updateScore() {
                scoreValue.textContent = score;
            }
            
            function updateLevel() {
                const newLevel = Math.floor(score / 10) + 1;
                if (newLevel !== level) {
                    level = newLevel;
                    levelValue.textContent = level;
                    levelValue.classList.add('animate');
                    setTimeout(() => levelValue.classList.remove('animate'), 300);
                    
                    // Change theme every 2 levels
                    const themeIndex = (Math.floor(level / 2) % 3) + 1;
                    document.body.classList.remove('theme-1', 'theme-2', 'theme-3');
                    document.body.classList.add(`theme-${themeIndex}`);
                }
            }
            
            function updateCombo() {
                comboValue.textContent = combo + 'x';
            }
            
            function showCombo() {
                if (combo < 3) return;
                
                comboContainer.textContent = combo + ' Combo!';
                comboContainer.classList.add('combo-animation');
                
                setTimeout(() => {
                    comboContainer.classList.remove('combo-animation');
                }, 1000);
            }

            function checkDate() {
                const userInput = dateInput.value.trim().toLowerCase();
                const correctAnswers = [
                    'july 16, 2025',
                    'july 16 2025',
                    '7/16/2025',
                    '07/16/2025',
                    '16/07/2025',
                    '16 july 2025',
                    'july 16th, 2025',
                    'july 16th 2025'
                ];

                if (correctAnswers.some(answer => userInput === answer)) {
                    isElle = true;
                    authMessage.innerHTML = '‚ú® Hi Elle, Zed built this site for you ‚ú®';
                    authMessage.className = 'auth-message success';
                    createSuccessSound();

                    setTimeout(() => {
                        authOverlay.style.opacity = '0';
                        setTimeout(() => {
                            authOverlay.style.display = 'none';
                            showWelcomeMessage();
                            startGame();
                        }, 500);
                    }, 2000);
                } else {
                    isElle = false;
                    authMessage.innerHTML = "You're not Elle, but you can still play!";
                    authMessage.className = 'auth-message error';

                    setTimeout(() => {
                        authOverlay.style.opacity = '0';
                        setTimeout(() => {
                            authOverlay.style.display = 'none';
                            startGame();
                        }, 500);
                    }, 2000);
                }
            }

            function showWelcomeMessage() {
                const welcomeDiv = document.createElement('div');
                welcomeDiv.className = 'welcome-message';
                welcomeDiv.innerHTML = 'Hi Elle, Zed built this site for you';
                document.body.appendChild(welcomeDiv);

                setTimeout(() => {
                    welcomeDiv.remove();
                }, 4000);
            }

            submitBtn.addEventListener('click', checkDate);
            dateInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    checkDate();
                }
            });
            
            restartButton.addEventListener('click', restartGame);

            const musicControl = document.getElementById('musicControl');
            musicControl.addEventListener('click', () => {
                isMuted = !isMuted;
                musicControl.innerHTML = isMuted ?
                    '<div class="music-icon">üîá</div>' :
                    '<div class="music-icon">üîä</div>';

                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
            });

            const sweetMessages = [
                "I like you",
                "The developer of this site likes you",
                "Zed and Elle?",
                "You're amazing",
                "You light up my world",
                "Thinking of you",
                "You're special",
                "My heart skips a beat",
                "Can't stop smiling",
                "You're beautiful inside and out",
                "Meant to be?",
                "My favorite thought",
                "Adore you",
                "You're my sunshine",
                "Perfect match",
                "You make me happy",
                "Dreaming of you",
                "So lucky to know you",
                "You're incredible",
                "My heart is yours",
                "Your energy is magnetic",
                "Being around you feels easy",
                "You make ordinary moments special",
                "Your perspective fascinates me",
                "I appreciate your existence",
                "The world needs more of your kindness",
                "You have a beautiful mind",
                "Your presence is comforting",
                "You inspire me to be better",
                "I value our connection",
                "You understand things deeply",
                "Your authenticity is refreshing",
                "I enjoy how your mind works",
                "You make people feel seen",
                "Your laughter is contagious"
            ];

            const genericMessages = [
                "Nice shot!",
                "Good job!",
                "Well done!",
                "Keep going!",
                "Great!",
                "Awesome!",
                "Perfect!",
                "Excellent!",
                "Way to go!",
                "Fantastic!"
            ];
            
            const powerMessages = [
                "Power up!",
                "Bonus points!",
                "Extra love!",
                "Amazing!",
                "Incredible!",
                "Superb!",
                "Fantastic!",
                "Wonderful!"
            ];
            
            const specialMessages = [
                "Special!",
                "Wow!",
                "Jackpot!",
                "Incredible!",
                "Amazing!",
                "Unbelievable!"
            ];

            function createParticles(count) {
                for (let i = 0; i < count; i++) {
                    createParticle();
                }
            }

            function createParticle() {
                const container = document.createElement('div');
                container.classList.add('particle-container');

                const particle = document.createElement('div');
                particle.classList.add('particle');

                const currentLevel = Math.floor(score / 10) + 1;
                const particleType = Math.random();
                let isNegative = false;
                let isPower = false;
                let isSpecial = false;
                
                const negativeChance = Math.min(0.05 * currentLevel, 0.3);
                const powerChance = 0.1;
                const specialChance = 0.03;
                
                if (particleType < negativeChance) {
                    particle.classList.add('negative-particle');
                    isNegative = true;
                } else if (particleType < negativeChance + powerChance) {
                    particle.classList.add('power-particle');
                    isPower = true;
                } else if (particleType < negativeChance + powerChance + specialChance) {
                    particle.classList.add('special-particle');
                    isSpecial = true;
                } else {
                    const themeIndex = (Math.floor(currentLevel / 2) % 3) + 1;
                    particle.style.background = themeIndex === 1 ? 
                        'linear-gradient(45deg, #ff9ecb, #ff7eb3)' : 
                        themeIndex === 2 ? 
                        'linear-gradient(45deg, #9ecbff, #7eb3ff)' : 
                        'linear-gradient(45deg, #9effcb, #7effb3)';
                }

                if (Date.now() - lastReactionTime > 15000) {
                    lastReactionTime = Date.now();
                    container.dataset.creationTime = Date.now();
                    particle.classList.add('reaction-particle');
                }

                container.appendChild(particle);

                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight;

                container.style.left = `${x}px`;
                container.style.top = `${y}px`;

                const size = 15 + Math.random() * 10;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;

                const speedFactor = 3 + 0.5 * (currentLevel - 1);
                const speedX = (Math.random() - 0.5) * speedFactor;
                const speedY = (Math.random() - 0.5) * speedFactor;

                container.addEventListener('click', () => {
                    if (!gameActive) return;
                    
                    if (container.dataset.creationTime) {
                        const creationTime = parseInt(container.dataset.creationTime);
                        const reactionTime = Date.now() - creationTime;
                        reactionTimeSpan.textContent = reactionTime;
                        createBeepSound(1200, 0.1, 'triangle');
                    }

                    particle.style.transition = 'all 0.8s ease';
                    particle.style.transform = 'scale(0)';
                    particle.style.opacity = '0';

                    if (isNegative) {
                        score = Math.max(0, score - 1);
                        createPenaltySound();
                        combo = 0;
                        updateCombo();
                        penaltyIndicator.style.opacity = '1';
                        penaltyIndicator.classList.add('penalty-animation');
                        setTimeout(() => {
                            penaltyIndicator.style.opacity = '0';
                            penaltyIndicator.classList.remove('penalty-animation');
                        }, 500);
                        showMessage(x, y, [penaltyMessages[Math.floor(Math.random() * penaltyMessages.length)]], 'negative');
                    } else if (isPower) {
                        score += 3;
                        createPowerUpSound();
                        combo++;
                        updateCombo();
                        showCombo();
                        showMessage(x, y, powerMessages, 'power');
                    } else if (isSpecial) {
                        score += 5;
                        timeLeft += 3; 
                        timerValue.textContent = timeLeft;
                        createSpecialSound();
                        combo += 2;
                        updateCombo();
                        showCombo();
                        showMessage(x, y, specialMessages, 'power');
                    } else {
                        score++;
                        createBeepSound(800 + Math.random() * 400, 0.1, 'triangle');
                        combo++;
                        updateCombo();
                        showCombo();
                        showMessage(x, y, isElle ? sweetMessages : genericMessages, 'normal');
                    }
                    
                    updateScore();
                    updateLevel();

                    const themeIndex = (Math.floor(level / 2) % 3) + 1;
                    const elleText = document.querySelector('.elle-text');
                    elleText.classList.add('glow');
                    setTimeout(() => elleText.classList.remove('glow'), 1000);

                    scoreValue.classList.add('animate');
                    setTimeout(() => scoreValue.classList.remove('animate'), 300);

                    createBurst(x, y, isNegative ? 'negative' : (isPower || isSpecial) ? 'power' : 'normal');

                    // Reset combo timer
                    clearTimeout(comboTimeout);
                    comboTimeout = setTimeout(() => {
                        combo = 0;
                        updateCombo();
                    }, 3000);

                    setTimeout(() => {
                        container.remove();
                        createParticle();
                    }, 800);
                });

                particlesContainer.appendChild(container);
                animateParticle(container, speedX, speedY);
            }

            function createBurst(x, y, type) {
                const burst = document.createElement('div');
                burst.classList.add('burst');
                
                if (type === 'negative') {
                    burst.style.background = 'rgba(255, 0, 0, 0.8)';
                } else if (type === 'power') {
                    burst.style.background = 'rgba(255, 215, 0, 0.8)';
                } else {
                    burst.style.background = 'rgba(255, 255, 255, 0.8)';
                }
                
                burst.style.left = `${x}px`;
                burst.style.top = `${y}px`;
                document.body.appendChild(burst);
                setTimeout(() => {
                    burst.remove();
                }, 500);
            }

            function animateParticle(container, speedX, speedY) {
                let x = parseFloat(container.style.left);
                let y = parseFloat(container.style.top);
                let directionX = speedX;
                let directionY = speedY;

                function move() {
                    x += directionX;
                    y += directionY;

                    if (x <= 0 || x >= window.innerWidth - 60) {
                        directionX *= -1;
                        x = x <= 0 ? 0 : window.innerWidth - 60;
                    }

                    if (y <= 0 || y >= window.innerHeight - 60) {
                        directionY *= -1;
                        y = y <= 0 ? 0 : window.innerHeight - 60;
                    }

                    container.style.left = `${x}px`;
                    container.style.top = `${y}px`;

                    requestAnimationFrame(move);
                }

                move();
            }

            function showMessage(x, y, messageArray, type) {
                const message = document.createElement('div');
                message.classList.add('message');
                if (type === 'negative') {
                    message.classList.add('negative-message');
                } else if (type === 'power') {
                    message.classList.add('power-message');
                }

                const randomMessage = messageArray[Math.floor(Math.random() * messageArray.length)];
                message.textContent = randomMessage;

                message.style.left = `${x}px`;
                message.style.top = `${y}px`;

                document.body.appendChild(message);

                setTimeout(() => {
                    message.remove();
                }, 2500);
            }

            function createHearts(count) {
                for (let i = 0; i < count; i++) {
                    const heart = document.createElement('div');
                    heart.classList.add('heart');

                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;

                    heart.style.left = `${x}px`;
                    heart.style.top = `${y}px`;
                    const size = 5 + Math.random() * 15;
                    heart.style.width = `${size}px`;
                    heart.style.height = `${size}px`;
                    heart.style.opacity = 0.1 + Math.random() * 0.4;

                    heart.style.animationDelay = `${Math.random() * 5}s`;

                    particlesContainer.appendChild(heart);
                }
            }

            window.addEventListener('resize', () => {
                particlesContainer.innerHTML = '';
                createParticles(30);
                createHearts(40);
            });
        });
    </script>
</body>

</html>